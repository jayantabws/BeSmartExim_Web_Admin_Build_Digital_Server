"use strict";(self.webpackChunkbesmartxim_admin=self.webpackChunkbesmartxim_admin||[]).push([[982],{8218:function(e,i,s){var n=s(1243),t=s(4800),r=n.Z.create({baseURL:t.Vu});r.interceptors.request.use((function(e){var i=sessionStorage.getItem("userId");return e.headers.accessedBy=i||1,e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)})),i.Z=r},4011:function(e,i,s){var n=s(8861),t=s(184);i.Z=function(e){return(0,t.jsx)(n.Z,{show:!0,backdrop:"static",keyboard:!1,children:(0,t.jsxs)("div",{className:"main-spinner-wrapper",children:[(0,t.jsx)("h4",{children:"Retrieving Data."})," Please wait..",(0,t.jsx)("div",{class:"donut"})]})})}},7982:function(e,i,s){s.r(i);var n=s(885),t=s(2791),r=s(8218),c=s(6758),a=s(5705),o=s(6836),l=(s(4011),s(1830)),u=s.n(l),d=s(184),h={subscriptionId:"",isActive:""},m=o.Ry().shape({subscriptionId:o.Z_().required("This field is required"),isActive:o.Z_().required("This field is required")});i.default=function(e){var i=(0,t.useState)([]),s=(0,n.Z)(i,2),o=(s[0],s[1],(0,t.useState)([])),l=(0,n.Z)(o,2),p=l[0],v=l[1],f=(0,t.useState)(!1),b=(0,n.Z)(f,2),x=(b[0],b[1]);return(0,t.useEffect)((function(){(0,r.Z)({method:"GET",url:"masterdata-management/subscription/list"}).then((function(e){v(e.data.subscriptionList)})).catch((function(e){v([])}))}),[]),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsx)(a.J9,{initialValues:h,validationSchema:m,onSubmit:function(i){x(!0);var s={subscriptionId:i.subscriptionId,userId:e.ID,isActive:i.isActive};(0,c.Z)({method:"POST",url:"user-management/user-subscription/create",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(i){x(!1),u().fire({title:"Thank You",text:"Subscription Plan Assigned Successfully.",icon:"success"}).then((function(i){i.value&&e.userModalSubmit()}))})).catch((function(e){x(!1),console.log("Err",e);var i="Somethhing went wrong, please try again.";e.data.errorMsg&&(i=e.data.errorMsg),u().fire({title:"Oops!",text:i,icon:"error"})}))},children:function(e){e.values;var i=e.errors,s=e.setFieldValue,n=(e.setFieldError,e.touched),t=(e.isValid,e.handleSubmit);e.submitForm;return(0,d.jsxs)(a.l0,{children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:(0,d.jsx)("b",{children:"Select Subscription Plan"})}),(0,d.jsxs)(a.gN,{name:"subscriptionId",component:"select",className:"form-control ".concat(n.subscriptionId&&i.subscriptionId?"is-invalid":""),autoComplete:"off",onChange:function(e){s("subscriptionId",e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Please Select"}),p&&p.length>0?p.map((function(e,i){return(0,d.jsx)("option",{value:e.id,children:e.name},i)})):null,n.subscriptionId&&i.subscriptionId&&(0,d.jsx)("p",{className:"error",children:i.subscriptionId})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:(0,d.jsx)("b",{children:"Status"})}),(0,d.jsxs)(a.gN,{name:"isActive",component:"select",className:"form-control ".concat(n.isActive&&i.isActive?"is-invalid":""),autoComplete:"off",onChange:function(e){s("isActive",e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Please Select"}),(0,d.jsx)("option",{value:"Y",children:"ACTIVE"}),(0,d.jsx)("option",{value:"N",children:"IN-ACTIVE"}),n.isActive&&i.isActive&&(0,d.jsx)("p",{className:"error",children:i.isActive})]})]}),(0,d.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),t()},className:"btn btn-primary",children:"Create Subscription"})]})}})})})})})})})}}}]);
//# sourceMappingURL=982.f4e13ce6.chunk.js.map