"use strict";(self.webpackChunkbesmartxim_admin=self.webpackChunkbesmartxim_admin||[]).push([[45],{6213:function(e,t,r){r(2791);t.Z=r.p+"static/media/delete.05b230552eb58580f2754dfb05a1bd04.svg"},741:function(e,t,r){r(2791);t.Z=r.p+"static/media/pencil-square.75d078b547e1c0688445b9e47edfd1b9.svg"},8045:function(e,t,r){r.r(t);var a=r(885),n=r(2791),i=r(7076),s=(r(1830),r(741),r(6213),r(212)),d=r(5705),o=r(6836),c=r(6758),l=r(2426),u=r.n(l),h=r(184),m=(o.Ry().shape({userId:o.Z_().required("This field is required")}),{userId:""}),f={cityDestinationList:"Destination City",cityOriginList:"City of Origin",exporterList:"Exporter List",hsCode4DigitList:"HS Code (4 Digit)",hsCodeList:"HS Code (8 Digit)",importerList:"Importer List",portDestinationList:"Destination Port",portOriginList:"Port of Origin",searchValue:"Search Value",searchBy:"Search By"};t.default=function(){var e=(0,n.useState)([]),t=(0,a.Z)(e,2),r=t[0],o=t[1],l=(0,n.useState)([]),b=(0,a.Z)(l,2),p=b[0],x=b[1],j=(0,n.useState)(void 0),g=(0,a.Z)(j,2),v=g[0],y=g[1],S=(0,n.useState)(void 0),D=(0,a.Z)(S,2),Y=D[0],w=D[1];(0,n.useEffect)((function(){F(),N("")}),[]);var F=function(){(0,c.Z)({method:"GET",url:"/user-management/user/list"}).then((function(e){x(e.data.userList)})).catch((function(e){console.log("Err",e)}))},N=function(e){var t="";t=e.userId?"search-management/search/listAll?userId=".concat(e.userId,"&isDownloaded=Y"):"search-management/search/listAll?isDownloaded=Y",(0,i.Z)({method:"GET",url:t,headers:{"Content-Type":"application/json"}}).then((function(e){o(e.data.queryList)})).catch((function(e){console.log("Err",e)}))},C={sortName:v,sortOrder:Y,onSortChange:function(e,t){console.info("onSortChange",arguments),y(e),w(t)}};return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"page-header",children:[(0,h.jsx)("nav",{"aria-label":"breadcrumb",children:(0,h.jsxs)("ol",{className:"breadcrumb",children:[(0,h.jsx)("li",{className:"breadcrumb-item",children:(0,h.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Activity Log"})}),(0,h.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[" ",(0,h.jsx)("h3",{className:"page-title",children:" Download Tracker "})]})]})}),(0,h.jsx)(d.J9,{initialValues:m,onSubmit:N,children:function(e){e.values;var t=e.errors,r=e.setFieldValue,a=(e.setFieldError,e.touched);e.isValid,e.handleSubmit,e.submitForm;return(0,h.jsx)(d.l0,{children:(0,h.jsxs)("div",{className:"row justify-content-end",children:[(0,h.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-5 col-lg-5",children:(0,h.jsx)("div",{className:"form-group",children:(0,h.jsxs)(d.gN,{name:"userId",component:"select",className:"form-control ".concat(a.company_name&&t.company_name?"is-invalid":""),autoComplete:"off",onChange:function(e){r("userId",e.target.value)},children:[(0,h.jsx)("option",{value:"",children:"Please Select User ID"}),p&&p.length>0?p.map((function(e,t){return(0,h.jsx)("option",{value:e.id,children:e.firstname+"  "+e.lastname+" ( "+e.email+" )"})})):null,a.userId&&t.userId&&(0,h.jsx)("p",{className:"error",children:t.userId})]})})}),(0,h.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"FILTER"})})]})})}})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{children:(0,h.jsxs)(s.c8,{data:r,striped:!0,hover:!0,pagination:!0,search:!0,options:C,children:[(0,h.jsx)(s.bY,{width:"25",isKey:!0,dataField:"searchId",dataFormat:function(e,t,r,a){return(0,h.jsx)("div",{children:a+1})},children:"Sl No"}),(0,h.jsx)(s.bY,{width:"200",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return(f?Object.keys(f).map((function(t,r){return""!=e[t]&&null!=e[t]?"<b>".concat(f[t],"</b>")+" : "+e[t]:null})):null).filter((function(e){return null!==e}))},dataSort:!0,children:"Query"}),(0,h.jsx)(s.bY,{width:"75",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return e.tradeType},dataSort:!0,children:"Trade Type"}),(0,h.jsx)(s.bY,{width:"60",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return e.countryCode},dataSort:!0,children:"Country"}),(0,h.jsx)(s.bY,{width:"210",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return u()(e.fromDate).format("MMM. DD, YYYY")+" - "+u()(e.toDate).format("MMM. DD, YYYY")},dataSort:!0,children:"Period"}),(0,h.jsx)(s.bY,{width:"75",dataField:"totalRecords",dataSort:!0,children:"Total Records"}),(0,h.jsx)(s.bY,{width:"100",dataField:"createdDate",dataFormat:function(e,t){return u()(e).format("MMM. DD, YYYY")},dataSort:!0,children:"Downloaded on"}),(0,h.jsx)(s.bY,{width:"200",dataField:"combinedColumn",dataFormat:function(e,t){return"".concat(t.createdByName," (").concat(t.createdByEmail,")")},dataSort:!0,children:"Downloaded By"}),(0,h.jsx)(s.bY,{width:"100",dataField:"recordsDownloaded",dataSort:!0,children:"Records Downloaded"})]})})})})})})]})}},7076:function(e,t,r){var a=r(1243),n=r(4800),i=a.Z.create({baseURL:n.T5});i.interceptors.request.use((function(e){var t=sessionStorage.getItem("userId");return e.headers.accessedBy=t||1,e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)})),t.Z=i}}]);
//# sourceMappingURL=45.ccb27566.chunk.js.map