"use strict";(self.webpackChunkbesmartxim_admin=self.webpackChunkbesmartxim_admin||[]).push([[589],{6213:function(e,t,r){r(2791);t.Z=r.p+"static/media/delete.05b230552eb58580f2754dfb05a1bd04.svg"},741:function(e,t,r){r(2791);t.Z=r.p+"static/media/pencil-square.75d078b547e1c0688445b9e47edfd1b9.svg"},8589:function(e,t,r){r.r(t);var a=r(885),i=r(2791),n=r(7076),s=(r(1830),r(741),r(6213),r(212)),c=r(5705),d=r(6836),o=r(6758),l=r(2426),u=r.n(l),h=r(184),m=(d.Ry().shape({userId:d.Z_().required("This field is required")}),{userId:""}),f={cityDestinationList:"Destination City",cityOriginList:"City of Origin",exporterList:"Exporter List",hsCode4DigitList:"HS Code (4 Digit)",hsCodeList:"HS Code (8 Digit)",importerList:"Importer List",portDestinationList:"Destination Port",portOriginList:"Port of Origin",searchValue:"Search Value"};t.default=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),r=t[0],d=t[1],l=(0,i.useState)([]),b=(0,a.Z)(l,2),p=b[0],x=b[1],j=(0,i.useState)(void 0),g=(0,a.Z)(j,2),v=g[0],y=g[1],S=(0,i.useState)(void 0),F=(0,a.Z)(S,2),Y=F[0],D=F[1];(0,i.useEffect)((function(){N(),C("")}),[]);var N=function(){(0,o.Z)({method:"GET",url:"/user-management/user/list"}).then((function(e){x(e.data.userList)})).catch((function(e){console.log("Err",e)}))},C=function(e){var t="";t=e.userId?"search-management/search/listAll?userId=".concat(e.userId):"search-management/search/listAll",(0,n.Z)({method:"GET",url:t,headers:{"Content-Type":"application/json"}}).then((function(e){d(e.data.queryList)})).catch((function(e){console.log("Err",e)}))},I={sortName:v,sortOrder:Y,onSortChange:function(e,t){console.info("onSortChange",arguments),y(e),D(t)}};return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"page-header",children:[(0,h.jsx)("nav",{"aria-label":"breadcrumb",children:(0,h.jsxs)("ol",{className:"breadcrumb",children:[(0,h.jsx)("li",{className:"breadcrumb-item",children:(0,h.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Activity Log"})}),(0,h.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:(0,h.jsx)("h3",{className:"page-title",children:" Query Tracker "})})]})}),(0,h.jsx)(c.J9,{initialValues:m,onSubmit:C,children:function(e){e.values;var t=e.errors,r=e.setFieldValue,a=(e.setFieldError,e.touched);e.isValid,e.handleSubmit,e.submitForm;return(0,h.jsx)(c.l0,{children:(0,h.jsxs)("div",{className:"row justify-content-end",children:[(0,h.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-5 col-lg-5",children:(0,h.jsx)("div",{className:"form-group",children:(0,h.jsxs)(c.gN,{name:"userId",component:"select",className:"form-control ".concat(a.userId&&t.userId?"is-invalid":""),autoComplete:"off",onChange:function(e){r("userId",e.target.value)},children:[(0,h.jsx)("option",{value:"",children:"Please Select User ID"}),p&&p.length>0?p.map((function(e,t){return(0,h.jsx)("option",{value:e.id,children:e.firstname+"  "+e.lastname+" ( "+e.email+" )"},t)})):null,a.userId&&t.userId&&(0,h.jsx)("p",{className:"error",children:t.userId})]})})}),(0,h.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"FILTER"})})]})})}})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{children:(0,h.jsxs)(s.c8,{data:r,striped:!0,hover:!0,pagination:!0,search:!0,options:I,children:[(0,h.jsx)(s.bY,{width:"50",isKey:!0,dataField:"searchId",dataFormat:function(e,t,r,a){return(0,h.jsx)("div",{children:a+1})},children:"Sl No"}),(0,h.jsx)(s.bY,{width:"100",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return e.searchType},dataSort:!0,children:"Search Type"}),(0,h.jsx)(s.bY,{width:"300",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return(f?Object.keys(f).map((function(t,r){return""!=e[t]&&null!=e[t]?"<b>".concat(f[t],"</b>")+" : "+e[t]:null})):null).filter((function(e){return null!==e}))},dataSort:!0,children:"Query"}),(0,h.jsx)(s.bY,{width:"75",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return e.tradeType},dataSort:!0,children:"Trade Type"}),(0,h.jsx)(s.bY,{width:"75",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return e.countryCode},dataSort:!0,children:"Country"}),(0,h.jsx)(s.bY,{width:"200",dataField:"userSearchQuery",dataFormat:function(e,t,r,a){return u()(e.fromDate).format("MMM. DD, YYYY")+" - "+u()(e.toDate).format("MMM. DD, YYYY")},dataSort:!0,children:"Period"}),(0,h.jsx)(s.bY,{width:"75",dataField:"totalRecords",dataSort:!0,children:"Total Records"}),(0,h.jsx)(s.bY,{width:"100",dataField:"createdDate",dataFormat:function(e,t){return u()(e).format("MMM. DD, YYYY")},dataSort:!0,children:"Created Date"}),(0,h.jsx)(s.bY,{width:"200",dataField:"combinedColumn",dataFormat:function(e,t){return"".concat(t.createdByName," (").concat(t.createdByEmail,")")},dataSort:!0,children:"Downloaded By"})]})})})})})})]})}},7076:function(e,t,r){var a=r(1243),i=r(4800),n=a.Z.create({baseURL:i.T5});n.interceptors.request.use((function(e){var t=sessionStorage.getItem("userId");return e.headers.accessedBy=t||1,e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)})),t.Z=n}}]);
//# sourceMappingURL=589.b903a9d8.chunk.js.map