"use strict";(self.webpackChunkbesmartxim_admin=self.webpackChunkbesmartxim_admin||[]).push([[50],{6213:function(e,a,r){r(2791);a.Z=r.p+"static/media/delete.05b230552eb58580f2754dfb05a1bd04.svg"},741:function(e,a,r){r(2791);a.Z=r.p+"static/media/pencil-square.75d078b547e1c0688445b9e47edfd1b9.svg"},8218:function(e,a,r){var s=r(1243),i=r(4800),t=s.Z.create({baseURL:i.Vu});t.interceptors.request.use((function(e){var a=sessionStorage.getItem("userId");return e.headers.accessedBy=a||1,e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)})),a.Z=t},50:function(e,a,r){r.r(a);var s=r(885),i=r(2791),t=r(6758),n=r(741),l=r(6213),o=r(1830),c=r.n(o),d=r(5082),m=r(8861),u=r(212),h=r(184);a.default=function(){var e=(0,i.useState)([]),a=(0,s.Z)(e,2),r=a[0],o=a[1],f=(0,i.useState)(!1),p=(0,s.Z)(f,2),x=p[0],b=p[1],j=(0,i.useState)([]),v=(0,s.Z)(j,2),N=v[0],g=v[1],y=(0,i.useState)(void 0),w=(0,s.Z)(y,2),Z=w[0],S=w[1],A=(0,i.useState)(void 0),C=(0,s.Z)(A,2),D=C[0],q=C[1];(0,i.useEffect)((function(){B()}),[]);var B=function(){(0,t.Z)({method:"GET",url:"/user-management/user/list?userType=ADMIN"}).then((function(e){o(e.data.userList)})).catch((function(e){console.log("Err",e)}))},F={sortName:Z,sortOrder:D,onSortChange:function(e,a){console.info("onSortChange",arguments),S(e),q(a)}};return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"page-header",children:(0,h.jsx)("nav",{"aria-label":"breadcrumb",children:(0,h.jsxs)("ol",{className:"breadcrumb",children:[(0,h.jsx)("li",{className:"breadcrumb-item",children:(0,h.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Admin Users"})}),(0,h.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[" ",(0,h.jsx)("h3",{className:"page-title",children:" Admin User List "})]})]})})}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{children:(0,h.jsxs)(u.c8,{data:r,striped:!0,hover:!0,pagination:!0,search:!0,options:F,children:[(0,h.jsx)(u.bY,{width:"70",isKey:!0,dataField:"id",dataFormat:function(e,a,r,s){return(0,h.jsx)("div",{children:s+1})},children:"Sl No"}),(0,h.jsx)(u.bY,{width:"150",dataField:"firstname",dataFormat:function(e,a){return a.firstname+" "+a.lastname},dataSort:!0,children:"Name1"}),(0,h.jsx)(u.bY,{width:"300",dataField:"email",dataSort:!0,children:"Email"}),(0,h.jsx)(u.bY,{width:"150",dataField:"mobile",dataSort:!0,children:"Mobile"}),(0,h.jsx)(u.bY,{width:"150",dataField:"isActive",dataFormat:function(e,a){return(0,h.jsx)("label",{className:"Y"==a.isActive?"badge badge-success":"badge badge-danger",children:"Y"==a.isActive?"Active":"Inactive"})},dataSort:!0,children:"Status"}),(0,h.jsx)(u.bY,{width:"150",dataField:"",dataFormat:function(e,a){return(0,h.jsxs)("div",{children:[(0,h.jsx)("i",{className:"bi bi-pencil-square",children:(0,h.jsx)("img",{src:n.Z,onClick:function(e){g(a),b(!0)}})})," \xa0\xa0\xa0",(0,h.jsx)("i",{className:"bi bi-pencil-square",children:(0,h.jsx)("img",{src:l.Z,onClick:function(e){var r;r=a,c().fire({title:"Delete User",text:"Are you sure you want to Delete User?",icon:"error"}).then((function(){(0,t.Z)({method:"PUT",url:"user-management/user/".concat(r.id),data:JSON.stringify({isDelete:"Y"}),headers:{"Content-Type":"application/json"}}).then((function(e){c().fire({title:"Thank You",text:"User Deleted",icon:"success"}).then((function(){B()}))})).catch((function(e){console.log("Err",e);var a="Somethhing went wrong, please try again.";e.data.errorMsg&&(a=e.data.errorMsg),c().fire({title:"Oops!",text:a,icon:"error"})}))}))}})})]})},children:"Action"})]})})})})}),(0,h.jsxs)(m.Z,{className:"customModal brandModal",bsSize:"md",show:x,onHide:function(e){b(!1)},children:[(0,h.jsx)(m.Z.Header,{closeButton:!0,className:"custmModlHead",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"Update Admin User "})," "]})}),(0,h.jsx)(m.Z.Body,{children:(0,h.jsx)(d.Z,{isAdmin:!0,rowData:N,modalSubmit:function(e){b(!1),B()}})})]})]})]})}},5082:function(e,a,r){var s=r(885),i=r(2791),t=r(8218),n=r(6758),l=r(5705),o=r(6836),c=r(1830),d=r.n(c),m=r(184),u=o.Ry().shape({firstname:o.Z_().required("Please enter first name"),lastname:o.Z_().required("Please enter last name"),email:o.Z_().email().required("Please enter valid email address"),mobile:o.Z_().required("Please enter valid mobile no"),companyName:o.Z_().required("This field is required"),isActive:o.Z_().required("This field is required"),password:o.Z_().required("This field is required"),referredBy:o.Z_().required("This field is required")});a.Z=function(e){var a={firstname:e.rowData.firstname,lastname:e.rowData.lastname,mobile:e.rowData.mobile,email:e.rowData.email,companyName:e.rowData.companyName,isActive:e.rowData.isActive,password:e.rowData.password,referredBy:e.rowData.memberId};console.log("props.rowData.referredBy",e.rowData.memberId),console.log("initialValues",a);var r=(0,i.useState)([]),o=(0,s.Z)(r,2),c=(o[0],o[1],(0,i.useState)([])),h=(0,s.Z)(c,2),f=(h[0],h[1]),p=(0,i.useState)([]),x=(0,s.Z)(p,2),b=x[0],j=x[1];(0,i.useEffect)((function(){(0,t.Z)({method:"GET",url:"masterdata-management/subscription/list"}).then((function(e){f(e.data.subscriptionList)})).catch((function(e){f([])}))}),[]);return(0,i.useEffect)((function(){(0,t.Z)({method:"GET",url:"masterdata-management/team-member/list"}).then((function(e){var a;j((null===(a=e.data.temMemberList)||void 0===a?void 0:a.length)>0?e.data.temMemberList:[])})).catch((function(e){j([])}))}),[]),(0,m.jsx)("div",{children:(0,m.jsx)(l.J9,{initialValues:a,validationSchema:u,onSubmit:function(a){var r={firstname:a.firstname,lastname:a.lastname,email:a.email,mobile:a.mobile,companyName:a.companyName,isActive:a.isActive,password:a.password,memberId:a.referredBy};(0,n.Z)({method:"PUT",url:"user-management/user/".concat(e.rowData.id),data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(a){console.log("user",a.data),d().fire({title:"Thank You",text:"User update is successful",icon:"success"}).then((function(){e.modalSubmit()}))})).catch((function(e){console.log("Err",e);var a="Somethhing went wrong, please try again.";e.data.errorMsg&&(a=e.data.errorMsg),d().fire({title:"Oops!",text:a,icon:"error"})}))},children:function(a){a.values;var r=a.errors,s=a.setFieldValue,i=(a.setFieldError,a.touched);a.isValid,a.handleSubmit,a.submitForm;return(0,m.jsxs)(l.l0,{children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"First Name"})}),(0,m.jsx)(l.gN,{name:"firstname",type:"text",className:"form-control ".concat(i.firstname&&r.firstname?"is-invalid":""),placeholder:"First Name",onChange:function(e){s("firstname",e.target.value)}}),i.firstname&&r.firstname&&(0,m.jsx)("p",{className:"error",children:r.firstname})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Last Name"})}),(0,m.jsx)(l.gN,{name:"lastname",type:"text",className:"form-control ".concat(i.lastname&&r.lastname?"is-invalid":""),placeholder:"Last Name",onChange:function(e){s("lastname",e.target.value)}}),i.lastname&&r.lastname&&(0,m.jsx)("p",{className:"error",children:r.lastname})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Email"})}),(0,m.jsx)(l.gN,{name:"email",type:"text",className:"form-control ".concat(i.email&&r.email?"is-invalid":""),placeholder:"Email Address",onChange:function(e){s("email",e.target.value)}}),i.email&&r.email&&(0,m.jsx)("p",{className:"error",children:r.email})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Mobile"})}),(0,m.jsx)(l.gN,{name:"mobile",type:"text",className:"form-control ".concat(i.mobile&&r.mobile?"is-invalid":""),placeholder:"Mobile No",onChange:function(e){s("mobile",e.target.value)}}),i.mobile&&r.mobile&&(0,m.jsx)("p",{className:"error",children:r.mobile})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Password"})}),(0,m.jsx)(l.gN,{name:"password",type:"password",className:"form-control ".concat(i.password&&r.password?"is-invalid":""),placeholder:"Password",onChange:function(e){s("password",e.target.value)}}),i.password&&r.password&&(0,m.jsx)("p",{className:"error",children:r.password})]}),0==e.isAdmin?(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Company Name"})}),(0,m.jsx)(l.gN,{name:"companyName",type:"text",className:"form-control ".concat(i.companyName&&r.companyName?"is-invalid":""),placeholder:"Company Name",onChange:function(e){s("companyName",e.target.value)}}),i.companyName&&r.companyName&&(0,m.jsx)("p",{className:"error",children:r.companyName})]}):null,(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Status"})}),(0,m.jsxs)(l.gN,{name:"isActive",component:"select",className:"form-control ".concat(i.companyName&&r.companyName?"is-invalid":""),autoComplete:"off",onChange:function(e){s("isActive",e.target.value)},children:[(0,m.jsx)("option",{value:"",children:"Please Select"}),(0,m.jsx)("option",{value:"Y",children:"Active"}),(0,m.jsx)("option",{value:"N",children:"Inactive"}),i.isActive&&r.isActive&&(0,m.jsx)("p",{className:"error",children:r.isActive})]})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:(0,m.jsx)("b",{children:"Referred By"})}),(0,m.jsxs)(l.gN,{name:"referredBy",component:"select",className:"form-control ".concat(i.referredBy&&r.referredBy?"is-invalid":""),autoComplete:"off",onChange:function(e){s("referredBy",e.target.value)},children:[(0,m.jsx)("option",{value:"",children:"Please Select"}),b.map((function(e,a){return(0,m.jsx)("option",{value:e.id,children:"".concat(e.firstName," ").concat(e.lastName)},a)}))]}),i.referredBy&&r.referredBy&&(0,m.jsx)("p",{className:"error",children:r.referredBy})]}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update User"})]})}})})}}}]);
//# sourceMappingURL=50.24d740b8.chunk.js.map