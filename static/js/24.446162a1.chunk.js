"use strict";(self.webpackChunkbesmartxim_admin=self.webpackChunkbesmartxim_admin||[]).push([[24],{8024:function(e,s,a){a.r(s),a.d(s,{default:function(){return x}});var r=a(885),t=a(2791),i=a(4880),n=a(5839),o=a(5705),l=a(6836),c=a(6758),d=a(1830),m=a.n(d),u=(a(1243),a(184)),h={email:"",password:""},p=l.Ry().shape({email:l.Z_().email().required("Please enter valid email address"),password:l.Z_().required("Please enter password")});function x(){var e=(0,t.useState)([]),s=(0,r.Z)(e,2),l=(s[0],s[1],(0,i.k6)());return(0,t.useEffect)((function(){var e=sessionStorage.getItem("userToken");console.log("userToken",e),e&&l.push("/dashboard")}),[]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"login-body-admin",children:(0,u.jsx)("div",{className:"d-flex align-items-center auth px-0",children:(0,u.jsx)("div",{className:"row w-100 mx-0",children:(0,u.jsx)("div",{className:"col-lg-4 mx-auto",children:(0,u.jsxs)("div",{className:"card text-left py-5 px-5 px-sm-5",children:[(0,u.jsx)("div",{className:"brand-logo text-center",children:(0,u.jsx)("img",{src:a(4427),alt:"logo"})}),(0,u.jsx)(o.J9,{initialValues:h,validationSchema:p,onSubmit:function(e){var s={email:e.email,password:e.password,ipaddress:"10.252.252.10"};(0,c.Z)({method:"POST",url:"/user-management/adminlogin",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){e.data.userid?(sessionStorage.setItem("userToken",e.data.sessionId),sessionStorage.setItem("userId",e.data.userid),sessionStorage.setItem("user",JSON.stringify(e.data)),l.push("/dashboard")):m().fire({title:"Oops!",text:"Invalid login, please try again.",icon:"error"})})).catch((function(e){console.log("Err"),m().fire({title:"Oops!",text:"Invalid login, please try again.",icon:"error"})}))},children:function(e){e.values;var s=e.errors,a=e.setFieldValue,r=(e.setFieldError,e.touched),t=(e.isValid,e.handleSubmit);e.submitForm;return(0,u.jsxs)(n.Z,{children:[(0,u.jsx)("h4",{className:"text-center",children:"Hello! let's get started"}),(0,u.jsx)("h6",{class:"font-weight-light text-center",children:"Sign in to continue."}),(0,u.jsxs)("div",{className:"search-field form-group",children:[(0,u.jsx)(o.gN,{name:"email",type:"text",className:"h-auto form-control form-control-lg ".concat(r.email&&s.email?"is-invalid":""),placeholder:"Email Address",onChange:function(e){a("email",e.target.value)}}),r.email&&s.email&&(0,u.jsx)("p",{className:"error",children:s.email})]}),(0,u.jsxs)("div",{className:"search-field form-group",children:[(0,u.jsx)(o.gN,{name:"password",type:"password",className:"h-auto form-control form-control-lg ".concat(r.password&&s.password?"is-invalid":""),placeholder:"Password",onChange:function(e){a("password",e.target.value)}}),r.password&&s.password&&(0,u.jsx)("p",{className:"error",children:s.password})]}),(0,u.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"form-checkbox"}),(0,u.jsx)("label",{className:"custom-control-label",htmlFor:"form-checkbox",children:"Remember me"})]}),(0,u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),t()},className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn mt-3",children:"Sign In"})]})}})]})})})})})})}}}]);
//# sourceMappingURL=24.446162a1.chunk.js.map